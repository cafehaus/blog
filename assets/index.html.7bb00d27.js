import{h as n}from"./app.c91e4ae6.js";import{_ as s}from"./plugin-vue_export-helper.21dcd24c.js";const a={},p=n(`<h1 id="\u7528reduce\u9AD8\u9636\u51FD\u6570\u7EC4\u88C5\u67E5\u8BE2\u8868\u5355\u5206\u9694\u5B57\u7B26\u6570\u636E" tabindex="-1"><a class="header-anchor" href="#\u7528reduce\u9AD8\u9636\u51FD\u6570\u7EC4\u88C5\u67E5\u8BE2\u8868\u5355\u5206\u9694\u5B57\u7B26\u6570\u636E" aria-hidden="true">#</a> \u7528reduce\u9AD8\u9636\u51FD\u6570\u7EC4\u88C5\u67E5\u8BE2\u8868\u5355\u5206\u9694\u5B57\u7B26\u6570\u636E</h1><h3 id="es6\u65F6\u4EE3" tabindex="-1"><a class="header-anchor" href="#es6\u65F6\u4EE3" aria-hidden="true">#</a> es6\u65F6\u4EE3</h3><p>\u4E0A\u53E4\u65F6\u4EE3\uFF0C\u6211\u4EEC\u4E3A\u4E86\u904D\u5386\u90FD\u662F\u7528for\u5FAA\u73AF\uFF0C\u76F4\u5230es6\u7684\u51FA\u73B0\uFF0C\u7ED9\u6211\u4EEC\u5E26\u6765\u4E86\u4E00\u7CFB\u5217\u597D\u7528\u7684\u65B0\u7279\u6027\uFF0Cmap\u3001filter\u3001find\u3001findIndex\u3001some\u3001every...\u5404\u4E2A\u90FD\u662F\u597D\u624B\uFF0C\u4F7F\u7528\u8FD9\u4E9B\u9AD8\u9636\u51FD\u6570\u80FD\u6781\u5927\u7684\u65B9\u4FBF\u6211\u4EEC\u5FEB\u901F\u5904\u7406\u6570\u636E\u3002</p><p>\u6BD4\u5982\u7528map\u904D\u5386\u63A5\u53E3\u6570\u636E\uFF0C\u518D\u7528filter\u6765\u8FC7\u6EE4\u6211\u4EEC\u6700\u7EC8\u60F3\u8981\u7684\u6570\u636E\uFF0C\u7528find\u76F4\u63A5\u4ECE\u4E00\u5806\u6570\u636E\u4E2D\u627E\u5230\u6211\u4EEC\u60F3\u8981\u7684\u90A3\u4E2A...</p><h3 id="\u6211\u548Creduce\u7684\u6E0A\u6E90" tabindex="-1"><a class="header-anchor" href="#\u6211\u548Creduce\u7684\u6E0A\u6E90" aria-hidden="true">#</a> \u6211\u548Creduce\u7684\u6E0A\u6E90</h3><p>\u4E0A\u9762\u7684\u90A3\u4E9B\u5904\u7406\u6570\u636E\u7684es6\u63D0\u4F9B\u7684api\u6211\u786E\u5B9E\u7ECF\u5E38\u7528\uFF0C\u4F46\u662F\u8FD8\u6709\u4E00\u4E2Areduce\uFF0C\u5B9E\u8BDD\u8BF4\u6211\u4EE5\u524D\u6CA1\u7528\u8FC7\uFF0C\u4F46\u662F\u77E5\u9053\u6709\u8FD9\u4E48\u4E2A\u4E1C\u897F\u3002\u6700\u5F00\u59CB\u5BF9\u5B83\u6709\u5F88\u6DF1\u7684\u5F71\u54CD\uFF0C\u662F\u6211\u4E00\u540C\u4E8B\u5728\u9879\u76EE\u4E2D\u8001\u7528\uFF0C\u6BCF\u6B21\u770B\u5230\u4ED6\u5199\u7684\u4EE3\u7801\uFF0C\u5C31\u5F88\u597D\u5947\u4E3A\u5565\u90A3\u4E48\u559C\u6B22\u7528\u8FD9\u4E2A\uFF0C\u96BE\u9053map\u4E0D\u9999\u5417\uFF1F</p><h3 id="\u7EC8\u4E8E\u53D1\u73B0\u4E86reduce\u5F88\u9999" tabindex="-1"><a class="header-anchor" href="#\u7EC8\u4E8E\u53D1\u73B0\u4E86reduce\u5F88\u9999" aria-hidden="true">#</a> \u7EC8\u4E8E\u53D1\u73B0\u4E86reduce\u5F88\u9999</h3><p>\u67E5\u8BE2\u8868\u5355\uFF0C\u4E00\u6B21\u8F93\u5165\u591A\u4E2A\u53C2\u6570\uFF0C\u4E00\u822C\u662F\u4ECE\u7F51\u7AD9\u6216\u8005excel\u4E2D\u590D\u5236\uFF0C\u8981\u6C42\u524D\u7AEF\u7528\u7A7A\u683C\u3001\u9017\u53F7\u6216\u8005\u56DE\u8F66\u5207\u5272\u53C2\u6570\uFF0C\u4F20\u7ED9\u540E\u7AEF\u3002</p><p>\u8FD9\u4E2A\u9700\u6C42\u4E5F\u5F88\u5E38\u89C1\uFF0C\u4E4B\u524D\u662F\u5148\u7528 split \u5206\u9694\u6210\u6570\u7EC4\uFF0C\u518D\u7528 map \u904D\u5386\u53BB\u6389\u9996\u5C3E\u7A7A\u683C\uFF0C\u6700\u540E\u518D\u7528 filter \u6765\u8FC7\u6EE4\u4E0B\u7A7A\u503C\uFF0C\u4F46\u662F\u8FD9\u6837\u9700\u8981\u904D\u5386\u4E24\u6B21\uFF0C\u5982\u679C\u60F3\u53EA\u7528\u4E00\u4E2A map \u5B9E\u73B0\uFF0C\u90A3\u8FD8\u5F97\u989D\u5916\u5B9A\u4E49\u4E2A\u53D8\u91CF\u6765\u50A8\u5B58\u6570\u636E\u3002</p><p>\u6B63\u597D\u9879\u76EE\u4E5F\u4E0D\u592A\u5FD9\uFF0C\u4E8E\u662F\u6211\u5F00\u59CB\u7814\u7A76\u600E\u4E48\u80FD\u66F4\u4F18\u96C5\u5730\u5B9E\u73B0\u4E0A\u9762\u7684\u6570\u636E\u8FC7\u6EE4\uFF0C\u6700\u7EC8\u627E\u4E86\u4E00\u5708\u624D\u53D1\u73B0\u4E86reduce\u7684\u9999\u3002</p><p>\u5176\u5B9E\u50CF\u8FD9\u79CD\u7EC4\u88C5\u6570\u636E\u7528 reduce \u5C31\u80FD\u5B8C\u7F8E\u89E3\u51B3\uFF0C\u4E00\u822C\u6709\u7684\u540E\u7AEF\u8981\u6C42\u7528\u6237\u6CA1\u586B\u7684\u53C2\u6570\u5C31\u4E0D\u4F20\uFF0C\u4E0D\u9700\u8981\u4F20\u4E2A\u7A7A\u5B57\u7B26\u4E32\u6216\u8005\u7A7A\u6570\u7EC4\u8FD9\u79CD\uFF0C\u90A3\u6211\u4EECreduce\u7684\u521D\u59CB\u503C\u76F4\u63A5\u7ED9\u6210 undefined \u5C31\u4E0D\u4F1A\u4F20\u7ED9\u540E\u7AEF\u4E86\uFF0C\u4E0D\u8FC7\u6CE8\u610F push \u7684\u65F6\u5019\u5C31\u8981\u989D\u5916\u5224\u65AD\u4E0B\u4E86\uFF0C\u5426\u5219\u4F1A\u62A5\u9519\u3002</p><p>\u7528\u56DE\u8F66\u3001\u4E2D\u82F1\u6587\u9017\u53F7\u6216\u7A7A\u683C\u5206\u9694\u5B57\u7B26\u6B63\u5219\uFF1A/\\n+|,|\uFF0C|\\s+/g</p><p>\u5229\u7528 reduce \u8FC7\u6EE4\u7EC4\u88C5\u6570\u636E demo\uFF1A</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&#39; &#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;1  &#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;zhou&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;  &#39;</span><span class="token punctuation">]</span>
<span class="token keyword">let</span> b <span class="token operator">=</span> a<span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">m<span class="token punctuation">,</span> n</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>n<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> txt <span class="token operator">=</span> n<span class="token punctuation">.</span><span class="token function">trim</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>txt<span class="token punctuation">)</span> m<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>txt<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> m
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span> <span class="token comment">// [&#39;1&#39;, &#39;zhou&#39;]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>\u9879\u76EE\u4E2D\u4F7F\u7528\u5B8C\u6574\u793A\u4F8B\u4EE3\u7801\uFF1A</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// \u8BF7\u6C42\u6570\u636E</span>
<span class="token keyword">async</span> <span class="token function">query</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">{</span> orderIds<span class="token punctuation">,</span> names <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>queryForm
  <span class="token keyword">let</span> params <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">page</span><span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>page<span class="token punctuation">.</span>index<span class="token punctuation">,</span>
    <span class="token literal-property property">size</span><span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>page<span class="token punctuation">.</span>size<span class="token punctuation">,</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">fmtParams</span><span class="token punctuation">(</span>params<span class="token punctuation">,</span> <span class="token string">&#39;orderIds&#39;</span><span class="token punctuation">,</span> orderIds<span class="token punctuation">)</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">fmtParams</span><span class="token punctuation">(</span>params<span class="token punctuation">,</span> <span class="token string">&#39;names&#39;</span><span class="token punctuation">,</span> names<span class="token punctuation">)</span>

  <span class="token keyword">const</span> res <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$axios</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">method</span><span class="token operator">:</span> <span class="token string">&#39;post&#39;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">url</span><span class="token operator">:</span> <span class="token string">&#39;cafe123/api/info&#39;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">data</span><span class="token operator">:</span> params<span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>res<span class="token punctuation">.</span>success<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// \u683C\u5F0F\u5316\u53C2\u6570</span>
<span class="token function">fmtParams</span><span class="token punctuation">(</span><span class="token parameter">params<span class="token punctuation">,</span> key<span class="token punctuation">,</span> val</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// if (val) {</span>
  <span class="token comment">//   params[key] = val.split(/\\n+/g).map(a =&gt; a.trim()).filter(a =&gt; a)</span>
  <span class="token comment">// }</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>val<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// \u521D\u59CB\u503C\u8BBE\u4E3A undefined\uFF0C\u672A\u586B\u5199\u6709\u6548\u6570\u636E\u65F6\u4E0D\u9700\u8981\u4F20\u53C2\u6570\uFF0C\u5982\u90FD\u662F\u6572\u7684\u7A7A\u683C\u3001\u56DE\u8F66</span>
    <span class="token comment">// \u4EE5\u56DE\u8F66\u3001\u4E2D\u82F1\u6587\u9017\u53F7\u6216\u7A7A\u683C\u5206\u9694</span>
    <span class="token keyword">const</span> list <span class="token operator">=</span> val<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\\n+|,|\uFF0C|\\s+</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">)</span>
    params<span class="token punctuation">[</span>key<span class="token punctuation">]</span> <span class="token operator">=</span> list<span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">m<span class="token punctuation">,</span> n</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>n<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">const</span> txt <span class="token operator">=</span> n<span class="token punctuation">.</span><span class="token function">trim</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>txt<span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>m<span class="token punctuation">)</span> m <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
          m<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>txt<span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
      <span class="token keyword">return</span> m
    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token keyword">undefined</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br></div></div><p>\u5176\u5B9E\u5F88\u591A\u4E8B\u60C5\u90FD\u662F\u4E00\u6837\uFF0C\u4ECE\u4F60\u77E5\u9053\uFF0C\u5230\u4F60\u771F\u7684\u7406\u89E3\uFF0C\u518D\u5230\u4F60\u5B9E\u8DF5\uFF0C\u6700\u540E\u5230\u4F60\u53D1\u73B0\u5B83\u7684\u9999\uFF0C\u6BCF\u4E00\u6B21\u8FDB\u9636\u4F60\u90FD\u9700\u8981\u7ECF\u5386\u4E00\u4E2A\u9636\u6BB5\uFF0C\u51E1\u4E8B\u8FD8\u662F\u591A\u95EE\u51E0\u4E2A\u4E3A\u4EC0\u4E48\uFF01</p>`,17);function t(e,o){return p}var u=s(a,[["render",t]]);export{u as default};
